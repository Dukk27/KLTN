@{
    ViewData["Title"] = "Admin Dashboard";
}

<head>
    @if (TempData["SuccessMessage"] != null)
    {
        <script src="https://cdn.jsdelivr.net/npm/izitoast/dist/js/iziToast.min.js"></script>
        <script>
            iziToast.success({
                title: 'Thành công!',
                message: '@TempData["SuccessMessage"]',
                position: 'topRight',
                timeout: 2000,
            });
        </script>
    }

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="~/css/Admin/index.css">
</head>

<body>
    <div class="container-fluid-menu">
        <!-- Nút menu cho mobile -->
        <button class="btn btn-primary d-md-none" id="toggleSidebarBtn" style="margin: 15px;">
            <i class="fas fa-bars"></i> Menu
        </button>

        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3" id="sidebar">
                <ul class="nav flex-column">
                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="manageAccountsLink">
                            <i class="fas fa-user"></i> Quản Lý Tài Khoản
                        </a>
                    </li>
                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="managePostsLink">
                            <i class="fas fa-file-alt"></i> Quản Lý Bài Đăng
                        </a>
                    </li>
                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="manageReviewsLink">
                            <i class="fas fa-comment"></i> Quản Lý Bình Luận
                        </a>
                    </li>
                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="manageReportsLink">
                            <i class="fas fa-thumbs-down"></i> Quản Lý Báo Xấu Bài Đăng
                        </a>
                    </li>
                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="manageHouseTypesLink">
                            <i class="fas fa-house"></i> Quản Lý Danh Mục Loại Nhà
                        </a>
                    </li>

                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="manageAmenitiesLink">
                            <i class="fas fa-tools"></i> Quản Lý Danh Mục Tiện Nghi
                        </a>
                    </li>

                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="manageChatLink">
                            <i class="fas fa-comments"></i> Quản Lý Chat
                        </a>
                    </li>

                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="postReportLink">
                            <i class="fas fa-file"></i> Thống Kê Bài Đăng Theo Tài Khoản
                        </a>
                    </li>

                    <li class="nav-item main-nav-item">
                        <a href="#" class="nav-link" id="postReportByDayLink">
                            <i class="fas fa-calendar-alt"></i> Thống Kê Bài Đăng Theo Ngày
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Nội dung bên phải -->
            <div class="col-md-9" id="content">

                <div id="contentPlaceholder">
                </div>
            </div>
        </div>
    </div>
</body>

@section Scripts {
    <script>
        $(document).ready(function () {
            $.get('@Url.Action("ManageAccounts", "Admin")', function (data) {
                $('#contentPlaceholder').html(data); // Hiển thị bảng tài khoản
            });

            $('#manageAccountsLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManageAccounts", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data); // Hiển thị bảng tài khoản
                });
            });

            $('#managePostsLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManagePosts", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data); // Hiển thị bảng bài đăng
                });
            });

            $('#manageReviewsLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManageReviews", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data); // Hiển thị bảng bình luận
                });
            });

            $('#manageHouseTypesLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManageHouseTypes", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data); // Hiển thị bảng loại nhà
                });
            });

            $('#manageAmenitiesLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManageAmenities", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data); // Hiển thị bảng tiện nghi
                });
            });

            $('#manageChatLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManageChat", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data);
                });
            });

            $('#postReportLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("PostReport", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data);
                });
            });

            $('#postReportByDayLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("PostReportByDay", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data);
                });
            });

            $('#manageReportsLink').on('click', function (e) {
                e.preventDefault();
                $.get('@Url.Action("ManageReports", "Admin")', function (data) {
                    $('#contentPlaceholder').html(data); // Hiển thị bảng báo cáo
                });
            });
        });
    </script>

    <script>
        $('#toggleSidebarBtn').on('click', function () {
            $('#sidebar').toggleClass('show');
        });

        // Đóng sidebar sau khi chọn menu (chỉ trên mobile)
        $('#sidebar .nav-link').on('click', function () {
            if (window.innerWidth < 768) {
                $('#sidebar').removeClass('show');
            }
        });

        $('.nav-link').on('click', function () {
            $('.nav-link').removeClass('active'); // Bỏ active cũ
            $(this).addClass('active');           // Thêm active cho link đang được chọn
        });
    </script>
}
